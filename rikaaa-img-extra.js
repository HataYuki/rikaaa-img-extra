!function(){"use strict";function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e,n){return(r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&i(o,r.prototype),o}).apply(null,arguments)}function n(t){var o="function"==typeof Map?new Map:void 0;return(n=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(t))return o.get(t);o.set(t,s)}function s(){return r(t,arguments,e(this).constructor)}return s.prototype=Object.create(t.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),i(s,t)})(t)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(){if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=window.document;i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,i){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[e-1]})},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(window,"resize",this._checkForIntersections,!0),r(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},i.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,n(window,"resize",this._checkForIntersections,!0),n(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},i.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),i=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(r){var n=r.element,s=o(n),a=this._rootContainsTarget(n),c=r.entry,h=t&&a&&this._computeTargetAndRootIntersection(n,i),l=r.entry=new e({time:window.performance&&performance.now&&performance.now(),target:n,boundingClientRect:s,rootBounds:i,intersectionRect:h});c?t&&a?this._hasCrossedThreshold(c,l)&&this._queuedEntries.push(l):c&&c.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},i.prototype._computeTargetAndRootIntersection=function(e,i){if("none"!=window.getComputedStyle(e).display){for(var r,n,s,c,h,l,u,p,f=o(e),d=a(e),v=!1;!v;){var g=null,y=1==d.nodeType?window.getComputedStyle(d):{};if("none"==y.display)return;if(d==this.root||d==t?(v=!0,g=i):d!=t.body&&d!=t.documentElement&&"visible"!=y.overflow&&(g=o(d)),g&&(r=g,n=f,void 0,void 0,void 0,void 0,void 0,void 0,s=Math.max(r.top,n.top),c=Math.min(r.bottom,n.bottom),h=Math.max(r.left,n.left),l=Math.min(r.right,n.right),p=c-s,!(f=(u=l-h)>=0&&p>=0&&{top:s,bottom:c,left:h,right:l,width:u,height:p})))break;d=a(d)}return f}},i.prototype._getRootRect=function(){var e;if(this.root)e=o(this.root);else{var i=t.documentElement,r=t.body;e={top:0,left:0,right:i.clientWidth||r.clientWidth,width:i.clientWidth||r.clientWidth,bottom:i.clientHeight||r.clientHeight,height:i.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,i){return"px"==e.unit?e.value:e.value*(i%2?t.width:t.height)/100}),i={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},i.prototype._hasCrossedThreshold=function(t,e){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(i!==r)for(var n=0;n<this.thresholds.length;n++){var o=this.thresholds[n];if(o==i||o==r||o<i!=o<r)return!0}},i.prototype._rootIsInDom=function(){return!this.root||s(t,this.root)},i.prototype._rootContainsTarget=function(e){return s(this.root||t,e)},i.prototype._registerInstance=function(){},i.prototype._unregisterInstance=function(){},window.IntersectionObserver=i,window.IntersectionObserverEntry=e}function e(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,i=e.width*e.height,r=this.intersectionRect,n=r.width*r.height;this.intersectionRatio=i?Number((n/i).toFixed(4)):this.isIntersecting?1:0}function i(t,e){var i,r,n,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,n=null,function(){n||(n=setTimeout(function(){i(),n=null},r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function r(t,e,i,r){"function"==typeof t.addEventListener?t.addEventListener(e,i,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,i)}function n(t,e,i,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,i)}function o(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(t,e){for(var i=e;i;){if(i==t)return!0;i=a(i)}return!1}function a(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}(),Array.prototype.includes||(Array.prototype.includes=function(t){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var e=Object(this),i=parseInt(e.length,10)||0;if(0===i)return!1;var r,n,o=parseInt(arguments[1],10)||0;for(0<=o?r=o:(r=i+o)<0&&(r=0);r<i;){if(t===(n=e[r])||t!=t&&n!=n)return!0;r++}return!1});var s=function(t){var e,i=!0;return function(){return i?(e=t.apply(this,arguments),i=!1,e):(t=null,!1)}},a=function(t,e,i){return Math.max(e,Math.min(i,t))},c=function(t,e,i,r,n){return r+(t-e)/(i-e)*(n-r)},h="<style>".concat(":host {  position: relative;  display: block;  width: 100%; }  :host .placeholder_container,  :host .svg_container {    position: relative;    width: 100%; }    :host .placeholder_container .spacer,    :host .placeholder_container .svg_spacer,    :host .svg_container .spacer,    :host .svg_container .svg_spacer {      display: block; }      :host .placeholder_container .spacer .placeholder,      :host .placeholder_container .spacer .svg_wp,      :host .placeholder_container .svg_spacer .placeholder,      :host .placeholder_container .svg_spacer .svg_wp,      :host .svg_container .spacer .placeholder,      :host .svg_container .spacer .svg_wp,      :host .svg_container .svg_spacer .placeholder,      :host .svg_container .svg_spacer .svg_wp {        position: absolute;        display: block;        top: 0;        left: 0;        bottom: 0;        right: 0; }  :host ::slotted(*) {    vertical-align: bottom; }","</style>"),l="\n    ".concat(h,'\n    <div class="placeholder_container">\n        <div class="spacer">\n            <slot class="placeholder" name="placeholder"></slot>\n        </div>\n    </div>\n    <div class="svg_container">\n        <div class="svg_spacer">\n            <div class="svg_wp">\n                <svg width="100%" height="100%"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                    <filter id="rikaaa-ex-filter">\n                        \x3c!-- blur --\x3e\n                        <feGaussianBlur stdDeviation="0"/>\n                        \x3c!-- other --\x3e\n                        <feColorMatrix type="matrix" id="contrast" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0" />\n                        <feColorMatrix type="matrix" id="brightness" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0" />\n                        <feColorMatrix type="matrix" id="saturate" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0" />\n                        <feColorMatrix type="matrix" id="hue-rotate" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0" />\n                        <feColorMatrix type="matrix" id="invert" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0" />\n                        <feColorMatrix type="matrix" id="grayscale" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0" />\n                        <feColorMatrix type="matrix" id="sepia" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0" />\n                    </filter>\n                    <image width="100%" height="100%" x="0" y="0" filter="url(#rikaaa-ex-filter)">  \n                </svg>\n            </div>\n        </div>\n    </div>\n    <div class="img_container">\n        <slot class="rikaaa-img-extra-wp"></slot>\n    </div>\n'),u=function(r){function h(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);var i=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),r=document.createElement("template");r.id="rikaaaimgextra",r.innerHTML=l;var n,s,a=r.content.querySelector("filter"),c=r.content.querySelector("image"),u="".concat(a.id,"_").concat(i);return a.id=u,c.setAttribute("filter","url(#".concat(u,")")),n=this,t=!(s=e(h).call(this))||"object"!=typeof s&&"function"!=typeof s?o(n):s,window.ShadyCSS&&ShadyCSS.prepareTemplate(r,"rikaaa-img-extra"),window.ShadyCSS&&ShadyCSS.styleElement(o(t)),t.attachShadow({mode:"open"}),t.shadowRoot.appendChild(r.content.cloneNode(!0)),t}var u,p,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(h,n(HTMLElement)),u=h,f=[{key:"observedAttributes",get:function(){return["blur","contrast","brightness","saturate","hue-rotate","invert","opacity","grayscale","sepia","offset"]}}],(p=[{key:"connectedCallback",value:function(){var t=this;this.filters=[],this.isSafari=/.*Version.*Safari.*/.test(navigator.userAgent),this.src=this.getAttribute("data-src"),this.alt=this.getAttribute("data-alt"),this.size=this.getAttribute("size").split("x"),this.aspect=this.size.reduce(function(t,e,i,r){var n={},o=function t(e,i){return i?t(i,e%i):e};return 0===i&&(n.w=e/o(r[1],r[0])),1===i&&(n.h=e/o(r[1],r[0])),Object.assign(t,n)},{}),this.wp=this.shadowRoot.querySelector(".rikaaa-img-extra-wp"),this.placeholder_container=this.shadowRoot.querySelector(".placeholder_container"),this.spacer=this.shadowRoot.querySelector(".spacer"),this.svg=this.shadowRoot.querySelector("svg"),this.svgImage=this.shadowRoot.querySelector("image"),this.svgspacer=this.shadowRoot.querySelector(".svg_spacer"),void 0===this.offset&&(this.offset=100);s(function(){t.placeholder()})();var e=s(function(){t.entry()});this.ovserver=new IntersectionObserver(function(t){0!==t[0].intersectionRatio&&e()},{rootMargin:"".concat(this.offset,"px")}),this.ovserver.observe(this)}},{key:"disconnectedCallback",value:function(){var t=this;this.ovserver.disconnect(this);var e=this.childNodes;e&&Array.from(e).forEach(function(e){return t.removeChild(e)})}},{key:"attributeChangedCallback",value:function(t,e,i){void 0===this.filters&&(this.filters=[]),this.svg=this.shadowRoot.querySelector("svg"),this._filter_op=1,this.isSafari=/.*Version.*Safari.*/.test(navigator.userAgent),"blur"===t&&(this.blur=i),"contrast"===t&&(this.contrast=i),"brightness"===t&&(this.brightness=i),"saturate"===t&&(this.saturate=i),"hue-rotate"===t&&(this.hue_rotate=i),"invert"===t&&(this.invert=i),"opacity"===t&&(this.opacity=i),"grayscale"===t&&(this.grayscale=i),"sepia"===t&&(this.sepia=i),"offset"===t&&(this.offset=i),this.isSafari&&(this.shadowRoot.querySelector(".img_container").style.filter=this.filters.toString().replace(/,/g," "))}},{key:"arraytomatrixval",value:function(t){return t.reduce(function(t,e){return t.concat(e)},[]).toString().replace(/,/g," ")}},{key:"placeholder",value:function(){var t=document.createElement("img");t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",t.slot="placeholder",Object.assign(t.style,{width:"100%",height:"100%"}),Object.assign(this.spacer.style,{paddingBottom:"".concat(this.aspect.h/this.aspect.w*100,"%")}),this.placeholderNode=t,this.appendChild(t)}},{key:"entry",value:function(){var t=this;this.placeholder_container.style.display="none";var e=document.createElement("img");this.img=e,e.src=this.src,e.alt=this.alt,Object.assign(e.style,{width:"100%"});e.addEventListener("load",function(){t.isSafari?t.appendChild(e):(Object.assign(t.svg.style,{fontSize:"0px"}),t.svgImage.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),Object.assign(t.svgspacer.style,{paddingBottom:"".concat(t.aspect.h/t.aspect.w*100,"%")}))}),this.dispatchEvent(new CustomEvent("load"))}},{key:"blur",set:function(t){this.isSafari?this.filters[0]="blur(".concat(t,"px)"):this.svg.querySelector("feGaussianBlur").setAttribute("stdDeviation",t)}},{key:"contrast",set:function(t){var e=Math.max(1,t);if(this.isSafari)this.filters[1]="contrast(".concat(e,")");else{var i=this.svg.getElementById("contrast"),r=(1-e)/2,n=[[e,0,0,0,r],[0,e,0,0,r],[0,0,e,0,r],[0,0,0,this._filter_op,0]];i.setAttribute("values",this.arraytomatrixval(n))}}},{key:"brightness",set:function(t){if(this.isSafari)this.filters[2]="brightness(".concat(t,")");else{var e=this.svg.getElementById("brightness"),i=[[t,0,0,0,0],[0,t,0,0,0],[0,0,t,0,0],[0,0,0,this._filter_op,0]];e.setAttribute("values",this.arraytomatrixval(i))}}},{key:"saturate",set:function(t){var e=Math.max(0,t);if(this.isSafari)this.filters[3]="saturate(".concat(e,")");else{var i=this.svg.getElementById("saturate"),r=[c(e,0,1,.213,1),c(e,0,1,.715,0),c(e,0,1,.072,0),c(e,0,1,.213,0),c(e,0,1,.715,1),c(e,0,1,.072,0),c(e,0,1,.213,0),c(e,0,1,.715,0),c(e,0,1,.072,1)],n=[[r[0],r[1],r[2],0,0],[r[3],r[4],r[5],0,0],[r[6],r[7],r[8],0,0],[0,0,0,this._filter_op,0]];i.setAttribute("values",this.arraytomatrixval(n))}}},{key:"hue_rotate",set:function(t){if(this.isSafari)this.filters[4]="hue-rotate(".concat(t,"deg)");else{var e=this.svg.getElementById("hue-rotate"),i=t/180*Math.PI,r=[Math.cos(i),Math.sin(i),1/3,Math.sqrt(1/3)],n=r[0],o=r[1],s=r[2],a=r[3],c=[[n+(1-n)*s,s*(1-n)-a*o,s*(1-n)+a*o,0,0],[s*(1-n)+a*o,n+s*(1-n),s*(1-n)-a*o,0,0],[s*(1-n)-a*o,s*(1-n)+a*o,n+s*(1-n),0,0],[0,0,0,this._filter_op,0]];e.setAttribute("values",this.arraytomatrixval(c))}}},{key:"invert",set:function(t){var e=a(t,0,1);if(this.isSafari)this.filters[5]="invert(".concat(e,")");else{var i=this.svg.getElementById("invert"),r=c(e,0,1,1,-1),n=c(r,1,-1,0,1),o=[[r,0,0,0,n],[0,r,0,0,n],[0,0,r,0,n],[0,0,0,this._filter_op,0]];i.setAttribute("values",this.arraytomatrixval(o))}}},{key:"opacity",set:function(t){var e=this;if(this._filter_op=a(t,0,1),this.isSafari)this.filters[6]="opacity(".concat(this._filter_op,")");else{["contrast","brightness","saturate","hue-rotate","invert","grayscale","sepia","binarize"].map(function(t){var i=e.getAttribute(t);if(null===i)return!1;"contrast"===t&&(e.contrast=i),"brightness"===t&&(e.brightness=i),"saturate"===t&&(e.saturate=i),"hue-rotate"===t&&(e.hue_rotate=i),"invert"===t&&(e.invert=i),"grayscale"===t&&(e.grayscale=i),"sepia"===t&&(e.sepia=i),"binarize"===t&&(e.binarize=i)}).includes(void 0)||this.svg.getElementById("contrast").setAttribute("values",this.arraytomatrixval([[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,this._filter_op,0]]))}}},{key:"grayscale",set:function(t){if(this.isSafari){var e=a(t,0,1);this.filters[7]="grayscale(".concat(e,")")}else{var i=1-a(t,0,1),r=this.svg.getElementById("grayscale"),n=[c(i,0,1,.213,1),c(i,0,1,.715,0),c(i,0,1,.072,0),c(i,0,1,.213,0),c(i,0,1,.715,1),c(i,0,1,.072,0),c(i,0,1,.213,0),c(i,0,1,.715,0),c(i,0,1,.072,1)],o=[[n[0],n[1],n[2],0,0],[n[3],n[4],n[5],0,0],[n[6],n[7],n[8],0,0],[0,0,0,this._filter_op,0]];r.setAttribute("values",this.arraytomatrixval(o))}}},{key:"sepia",set:function(t){if(this.isSafari){var e=a(t,0,1);this.filters[8]="sepia(".concat(e,")")}else{var i=this.svg.getElementById("sepia"),r=1-a(t,0,1),n=[c(r,0,1,.393,1),c(r,0,1,.769,0),c(r,0,1,.189,0),c(r,0,1,.349,0),c(r,0,1,.686,1),c(r,0,1,.168,0),c(r,0,1,.272,0),c(r,0,1,.534,0),c(r,0,1,.131,1)],o=[[n[0],n[1],n[2],0,0],[n[3],n[4],n[5],0,0],[n[6],n[7],n[8],0,0],[0,0,0,this._filter_op,0]];i.setAttribute("values",this.arraytomatrixval(o))}}}])&&t(u.prototype,p),f&&t(u,f),h}();customElements.define("rikaaa-img-extra",u)}();